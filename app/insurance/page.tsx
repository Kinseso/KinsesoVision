"use client";
import { useState } from "react";
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { Badge } from "@/components/ui/badge";
export default function Page(){ const insurers=[{id:100,name:"CoverThread",region:"UK",tags:["inventory","equipment","events"]},{id:101,name:"StitchSure",region:"EU/UK",tags:["product liability","returns"]}]; const packages=[{id:900,insurerId:100,title:"Boutique Inventory Shield",premium:"£39/mo",coverage:"Stock theft, water damage",for:["SME brands"]},{id:901,insurerId:101,title:"Product Liability Lite",premium:"£59/mo",coverage:"Claims from defects (caps)",for:["Designers","D2C"]}]; const [q,setQ]=useState(""); const [note,setNote]=useState({} as any); const pkgs=packages.filter(p=>(p.title+p.coverage+p.premium).toLowerCase().includes(q.toLowerCase())); const cos=insurers.filter(i=>(i.name+i.region+i.tags.join(",")).toLowerCase().includes(q.toLowerCase())); return <main className="max-w-6xl mx-auto p-4 space-y-4"><Card className="p-4"><CardTitle>Insurance marketplace</CardTitle><Input placeholder="Search packages or insurers" value={q} onChange={e=>setQ(e.target.value)}/></Card><div className="grid md:grid-cols-2 gap-3"><Card className="p-4"><CardTitle className="mb-2">Packages for brands</CardTitle>{pkgs.map(pkg=>(<div key={pkg.id} className="border rounded-xl p-3 space-y-2"><div className="flex items-center justify-between"><div className="font-medium">{pkg.title}</div><Badge>{pkg.premium}</Badge></div><div className="text-xs opacity-70">Coverage: {pkg.coverage}</div><div className="text-xs opacity-70">For: {pkg.for.join(", ")}</div><div className="text-xs">Insurer: {cos.find(i=>i.id===pkg.insurerId)?.name||insurers.find(i=>i.id===pkg.insurerId)?.name}</div><div className="flex gap-2 items-center"><Input placeholder="Add a note (optional)" value={note[pkg.id]||""} onChange={e=>setNote((m:any)=>({...m,[pkg.id]:e.target.value}))}/><Button onClick={()=>alert("Quote requested: "+(note[pkg.id]||"Please contact me."))}>Request quote</Button></div></div>))}</Card><Card className="p-4"><CardTitle className="mb-2">Insurers</CardTitle>{cos.map(ins=>(<div key={ins.id} className="border rounded-xl p-3 space-y-2"><div className="flex items-center justify-between"><div className="font-medium">{ins.name}</div><Badge variant="green">{ins.region}</Badge></div><div className="text-xs opacity-70">Tags: {ins.tags.join(", ")}</div><div className="flex gap-2"><Button>Contact brands</Button><Button variant="secondary">List a package</Button></div></div>))}</Card></div></main>; }
